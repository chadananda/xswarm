---
export interface Props {
  title?: string;
  inputs: Array<{
    label: string;
    value: string;
  }>;
  traditional: {
    calculations: Array<{
      label: string;
      formula: string;
      result: string;
    }>;
    total: {
      tokens: string;
      cost: string;
    };
  };
  xswarm: {
    calculations: Array<{
      label: string;
      formula: string;
      result: string;
    }>;
    total: {
      tokens: string;
      cost: string;
    };
  };
  savings: {
    percentage: string;
    subtext: string;
  };
}

const { title = "SaaS MVP Cost Calculator", inputs, traditional, xswarm, savings } = Astro.props;
---

<div class="my-12 p-8 bg-gradient-to-br from-brand-secondary/5 to-terminal-cyan/5 rounded-2xl border border-brand-secondary/20">
  <h3 class="mb-8 text-2xl text-terminal-cyan text-center font-['Orbitron'] font-bold">
    {title}
  </h3>
  
  <!-- Inputs -->
  <div class="grid grid-cols-2 gap-4 mb-8 p-4 bg-black/30 rounded-lg">
    {inputs.map((input) => (
      <div class="text-center">
        <label class="block text-sm text-gray-300 mb-1">{input.label}</label>
        <div class="text-xl font-semibold text-terminal-cyan font-mono">{input.value}</div>
      </div>
    ))}
  </div>
  
  <!-- Calculations -->
  <div class="grid md:grid-cols-2 gap-8">
    <!-- Traditional -->
    <div class="p-6 bg-gray-800/50 rounded-lg border border-red-500/30">
      <h4 class="mb-4 text-lg text-center font-['Orbitron'] font-semibold">Current AI Development</h4>
      
      <div class="space-y-2">
        {traditional.calculations.map((calc) => (
          <div class="grid grid-cols-3 gap-2 py-2 border-b border-gray-700/50 text-sm">
            <span class="text-gray-300">{calc.label}</span>
            <span class="text-center font-mono text-gray-400">{calc.formula}</span>
            <span class="text-right font-semibold text-terminal-cyan font-mono">{calc.result}</span>
          </div>
        ))}
      </div>
      
      <div class="mt-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg text-center">
        <span class="block text-sm text-gray-300 mb-1">Total Cost</span>
        <span class="block text-lg font-semibold font-mono mb-1">{traditional.total.tokens}</span>
        <span class="block text-3xl font-black font-['Orbitron'] text-red-500">{traditional.total.cost}</span>
      </div>
    </div>
    
    <!-- XSwarm -->
    <div class="p-6 bg-gray-800/50 rounded-lg border border-green-500/30">
      <h4 class="mb-4 text-lg text-center font-['Orbitron'] font-semibold">xSwarm Architecture</h4>
      
      <div class="space-y-2">
        {xswarm.calculations.map((calc) => (
          <div class="grid grid-cols-3 gap-2 py-2 border-b border-gray-700/50 text-sm">
            <span class="text-gray-300">{calc.label}</span>
            <span class="text-center font-mono text-gray-400">{calc.formula}</span>
            <span class="text-right font-semibold text-terminal-cyan font-mono">{calc.result}</span>
          </div>
        ))}
      </div>
      
      <div class="mt-4 p-4 bg-green-500/10 border border-green-500/30 rounded-lg text-center">
        <span class="block text-sm text-gray-300 mb-1">Total Cost</span>
        <span class="block text-lg font-semibold font-mono mb-1">{xswarm.total.tokens}</span>
        <span class="block text-3xl font-black font-['Orbitron'] text-green-500">{xswarm.total.cost}</span>
      </div>
    </div>
  </div>
  
  <!-- Savings Banner -->
  <div class="mt-8 p-8 bg-gradient-to-br from-green-500/10 to-green-500/5 border-2 border-green-500/30 rounded-2xl text-center">
    <div class="text-6xl font-black text-green-500 font-['Orbitron'] mb-2" style="text-shadow: 0 0 30px rgba(34, 197, 94, 0.5)">
      {savings.percentage}
    </div>
    <div class="text-2xl text-gray-200 mb-2">Cost Reduction</div>
    <div class="text-base text-gray-400 italic">{savings.subtext}</div>
  </div>
</div>