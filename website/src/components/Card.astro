---
export interface Props {
  icon?: string;
  title: string;
  role?: string;
  description?: string;
  image?: string;
  class?: string;
  hover?: boolean;
}

const { icon, title, role, description, image, class: className = '', hover = true } = Astro.props;

const hoverClasses = hover ? 'hover:scale-105 hover:shadow-2xl hover:shadow-terminal-cyan/20' : '';
const classes = `agent-card relative bg-gradient-to-br from-terminal-bg to-terminal-bg-alt border-2 border-terminal-green/50 rounded-lg overflow-hidden transition-all duration-300 ${hoverClasses} ${className}`;
---

<div class={classes}>
  <!-- Character card design -->
  <div class="relative p-6">
    <!-- Top corner accent -->
    <div class="absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-terminal-cyan/50"></div>
    <div class="absolute top-0 right-0 w-16 h-16 border-t-2 border-r-2 border-terminal-cyan/50"></div>
    
    <!-- Agent icon/avatar area -->
    <div class="text-center mb-4">
      {image ? (
        <div class="inline-block p-1 bg-terminal-bg-alt rounded-full border-2 border-terminal-cyan/50 shadow-lg shadow-terminal-cyan/20">
          <img src={image} alt={title} class="w-24 h-24 rounded-full object-cover" />
        </div>
      ) : icon && (
        <div class="inline-block p-4 bg-terminal-bg-alt rounded-full border border-terminal-cyan/30 shadow-lg shadow-terminal-cyan/20">
          <div class="text-4xl text-terminal-cyan animate-pulse">
            {icon}
          </div>
        </div>
      )}
    </div>
    
    <!-- Agent name with glitch effect -->
    <h3 class="text-center text-lg font-bold mb-1 text-terminal-green relative">
      <span class="relative z-10">{title}</span>
      <span class="absolute inset-0 text-terminal-cyan/20 animate-pulse" aria-hidden="true">{title}</span>
    </h3>
    
    <!-- Corporate role subtitle -->
    {role && (
      <p class="text-center text-xs text-terminal-green/50 mb-3">({role})</p>
    )}
    
    <!-- Divider -->
    <div class="w-full h-px bg-gradient-to-r from-transparent via-terminal-green/50 to-transparent mb-3"></div>
    
    <!-- Description -->
    {description && (
      <p class="text-center text-sm text-terminal-green/80 leading-relaxed">
        {description}
      </p>
    )}
    
    <!-- Bottom corner accent -->
    <div class="absolute bottom-0 left-0 w-16 h-16 border-b-2 border-l-2 border-terminal-cyan/50"></div>
    <div class="absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-terminal-cyan/50"></div>
  </div>
  
  <!-- Scan lines effect -->
  <div class="absolute inset-0 pointer-events-none opacity-10">
    <div class="h-full w-full bg-gradient-to-b from-transparent via-terminal-green to-transparent animate-scan"></div>
  </div>
</div>