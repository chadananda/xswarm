---
export interface Props {
  icon?: string;
  title: string;
  role?: string;
  description?: string;
  image?: string;
  class?: string;
  hover?: boolean;
}

const { icon, title, role, description, image, class: className = '', hover = true } = Astro.props;
---

<div class={`trading-card ${className}`}>
  <!-- Texture overlays -->
  <div class="card-texture"></div>
  <div class="card-holographic"></div>
  
  <!-- Character image section -->
  <div class="card-image-section">
    {image ? (
      <>
        <img src={image} alt={title} class="w-full h-full object-cover object-top" />
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"></div>
      </>
    ) : (
      <div class="flex items-center justify-center h-full bg-gradient-to-b from-terminal-bg/50 to-terminal-bg">
        <div class="text-6xl text-terminal-cyan/20 animate-pulse">
          {icon || '?'}
        </div>
      </div>
    )}
    
    <!-- Rarity indicator -->
    <div class="card-rarity"></div>
  </div>
  
  <!-- Content section -->
  <div class="card-content-section">
    <!-- Title with ornate frame -->
    <div class="card-title-frame">
      <h3 class="text-center text-lg font-bold text-terminal-green leading-tight">
        {title}
      </h3>
      {role && (
        <p class="text-center text-xs text-terminal-cyan/50 font-light mt-1">
          ({role})
        </p>
      )}
    </div>
    
    <!-- Description -->
    {description && (
      <div class="relative px-2">
        <p class="text-center text-xs text-terminal-green/70 leading-relaxed font-mono">
          {description}
        </p>
      </div>
    )}
    
    <!-- Card ID/Number -->
    <div class="absolute bottom-2 right-2 text-terminal-cyan/30 text-xs font-mono">
      #{Math.floor(Math.random() * 999) + 1}
    </div>
  </div>
  
  <!-- Scan lines effect -->
  <div class="absolute inset-0 pointer-events-none opacity-10">
    <div class="h-full w-full bg-gradient-to-b from-transparent via-terminal-green/50 to-transparent animate-scan"></div>
  </div>
</div>

<style>
  @import '../styles/trading-card.css';
</style>