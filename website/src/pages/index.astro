---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Button from '../components/Button.astro';
import Agent from '../components/Agent.astro';
import Card from '../components/Card.astro';
import { getCollection } from 'astro:content';

// Get agent categories
const agentCategories = await getCollection('agents');
const sortedCategories = agentCategories.sort((a, b) => a.data.order - b.data.order);

// Get latest blog posts
const blogPosts = (await getCollection('blog'))
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 3);
---

<Layout title="XSwarm - Transform Every Developer into an AI Team Leader">
	<Navbar />
	
	<main>
		<!-- Hero Section -->
		<section class="hero relative overflow-hidden terminal-window">
			<!-- Wide Hero Image Background -->
			<div class="absolute inset-0 z-0">
				<img src="/teamofone.png" alt="Cyberpunk developer controlling AI swarm" class="w-full h-full object-cover opacity-30" />
				<div class="absolute inset-0 bg-gradient-to-t from-terminal-bg via-terminal-bg/50 to-transparent"></div>
			</div>
			
			<!-- Terminal Window Effect -->
			<div class="terminal-header">
				<div class="terminal-buttons">
					<span class="terminal-button terminal-button-red"></span>
					<span class="terminal-button terminal-button-yellow"></span>
					<span class="terminal-button terminal-button-green"></span>
				</div>
				<div class="terminal-title">xswarm.ai</div>
			</div>
			
			<div class="container mx-auto px-4 py-24 md:py-32 relative z-10">
				<div class="text-center max-w-4xl mx-auto">
					<h1 class="text-5xl md:text-7xl font-bold mb-6 glitch-text font-['Orbitron'] uppercase tracking-wider" data-text="Be the Team You Wish to Lead">
						Be the Team You Wish to <span class="text-gradient-cyber">Lead</span>
					</h1>
					<p class="text-xl md:text-2xl mb-8 leading-relaxed terminal-text">
						<span class="cli-prompt">Orchestrate development cycles with 40+ expert agents, multi-pass AI planning, and parallel execution. Code + Tests + Docs + Marketing in every epoch.</span>
						<span class="cli-cursor"></span>
					</p>
					<div class="flex flex-col sm:flex-row gap-4 justify-center">
						<Button href="/blog/getting-started-guide" size="lg">
							<span class="terminal-text">npx xswarm</span>
						</Button>
						<Button href="https://github.com/chadananda/xswarm" variant="secondary" size="lg">
							<span class="terminal-text">View on GitHub</span>
						</Button>
					</div>
				</div>
			</div>
			
			<!-- Matrix Rain Effect -->
			<div class="matrix-rain"></div>
		</section>

		<!-- Agent Workforce Section -->
		<section id="features" class="py-20 terminal-bg overflow-visible">
			<div class="container mx-auto px-4 max-w-7xl overflow-visible">
				<div class="text-center mb-16">
					<h2 class="text-3xl md:text-4xl font-bold mb-4 glitch-text" data-text="Command Your Agent Workforce">
						Command Your Agent Workforce
					</h2>
					<p class="text-lg max-w-3xl mx-auto terminal-text">
						<span class="cli-prompt">Each specialized agent awaits your command. Together, they form an unstoppable development force.</span>
					</p>
				</div>
				
				{sortedCategories.map((category, index) => {
					const colorClass = index < 2 ? 'cyan' : index < 4 ? 'green' : 'magenta';
					return (
						<>
							<h3 class="text-2xl font-bold mb-6 terminal-text text-center">
								<span class={`text-terminal-${colorClass}`}>
									// {category.data.title} - {category.data.subtitle}
								</span>
							</h3>
							<div class="flex flex-wrap justify-center gap-8 mb-12 max-w-7xl mx-auto overflow-visible py-12">
								{category.data.agents.map((agent) => (
									<Agent 
										icon={agent.icon}
										title={agent.title}
										role={agent.role}
										description={agent.description}
										image={agent.image}
										prompt={agent.prompt}
										mcpTools={agent.mcpTools}
										activityType={agent.activityType}
										compact={true}
									/>
								))}
							</div>
						</>
					);
				})}
			</div>
		</section>

		<!-- Interactive Command & Control Section -->
		<section class="py-20 terminal-window">
			<div class="container mx-auto px-4 max-w-6xl">
				<div class="text-center mb-16">
					<h2 class="text-3xl md:text-4xl font-bold mb-4 glitch-text" data-text="The Epoch System: Recursive Planning for Parallel Execution">
						The Epoch System: Recursive Planning for Parallel Execution
					</h2>
					<p class="text-lg max-w-3xl mx-auto terminal-text">
						<span class="cli-prompt">Complete development cycles designed for AI capabilities. Expert consultation ‚Üí Interactive prototypes ‚Üí Multi-pass planning ‚Üí Parallel execution.</span>
					</p>
				</div>
				
				<div class="grid md:grid-cols-2 gap-12 items-center">
					<div class="space-y-8">
						<div class="terminal-window">
							<div class="terminal-header">
								<div class="terminal-buttons">
									<span class="terminal-button terminal-button-red"></span>
									<span class="terminal-button terminal-button-yellow"></span>
									<span class="terminal-button terminal-button-green"></span>
								</div>
								<div class="terminal-title">BA Agent Interview</div>
							</div>
							<div class="terminal-content p-6">
								<p class="terminal-text mb-2">
									<span class="text-terminal-cyan">BA Agent:</span> Alright, what are we building today?
								</p>
								<p class="terminal-text mb-2">
									<span class="text-terminal-green">You:</span> I want users to collaborate in real-time
								</p>
								<p class="terminal-text mb-2">
									<span class="text-terminal-cyan">BA Agent:</span> Cool. How many people at once? Like Google Docs or more like Slack?
								</p>
								<p class="terminal-text">
									<span class="cli-cursor"></span>
								</p>
							</div>
						</div>
						
						<div class="terminal-window">
							<div class="terminal-header">
								<div class="terminal-buttons">
									<span class="terminal-button terminal-button-red"></span>
									<span class="terminal-button terminal-button-yellow"></span>
									<span class="terminal-button terminal-button-green"></span>
								</div>
								<div class="terminal-title">UX Agent Options</div>
							</div>
							<div class="terminal-content p-6">
								<p class="terminal-text mb-4">
									<span class="text-terminal-magenta">UX Agent:</span> Got three designs for you. Which vibe?
								</p>
								<div class="grid grid-cols-3 gap-2 text-sm">
									<div class="border border-terminal-green p-2 text-terminal-green">A: Sidebar chat</div>
									<div class="border border-terminal-cyan p-2 text-terminal-cyan">B: Floating bubbles</div>
									<div class="border border-terminal-magenta p-2 text-terminal-magenta">C: Inline comments</div>
								</div>
							</div>
						</div>
					</div>
					
					<div class="space-y-6">
						<h3 class="text-2xl font-bold terminal-text">
							<span class="text-terminal-cyan">The 5-Phase Epoch Process</span>
						</h3>
						<ul class="space-y-4">
							<li class="flex items-start space-x-3">
								<span class="text-terminal-green text-2xl">‚Ä∫</span>
								<div>
									<h4 class="font-semibold terminal-text mb-1">Expert Consultation</h4>
									<p class="text-terminal-green text-sm">40+ specialized agents provide domain expertise‚Äîfrom security to marketing</p>
								</div>
							</li>
							<li class="flex items-start space-x-3">
								<span class="text-terminal-cyan text-2xl">‚Ä∫</span>
								<div>
									<h4 class="font-semibold terminal-text mb-1">Multi-Pass Planning</h4>
									<p class="text-terminal-green text-sm">Extract pure functions, optimize for 60%+ reuse, decompose into atomic tasks</p>
								</div>
							</li>
							<li class="flex items-start space-x-3">
								<span class="text-terminal-magenta text-2xl">‚Ä∫</span>
								<div>
									<h4 class="font-semibold terminal-text mb-1">Parallel Execution</h4>
									<p class="text-terminal-green text-sm">Sandboxed teams work simultaneously‚Äîno conflicts, no coordination overhead</p>
								</div>
							</li>
							<li class="flex items-start space-x-3">
								<span class="text-terminal-yellow text-2xl">‚Ä∫</span>
								<div>
									<h4 class="font-semibold terminal-text mb-1">Integrated Delivery</h4>
									<p class="text-terminal-green text-sm">Every epoch ships code + tests + docs + marketing assets‚Äîcomplete features</p>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</section>

		<!-- Benefits Section -->
		<section class="py-20 terminal-bg">
			<div class="container mx-auto px-4 max-w-6xl">
				<div class="grid md:grid-cols-2 gap-16 items-center">
					<div>
						<h2 class="text-3xl md:text-4xl font-bold mb-6 glitch-text font-['Orbitron'] uppercase tracking-wide" data-text="Why Epochs Change Everything">
							Why Epochs Change Everything
						</h2>
						<div class="space-y-6">
							<div class="flex items-start space-x-4">
								<div class="flex-shrink-0 w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center">
									<span class="text-2xl">‚ôªÔ∏è</span>
								</div>
								<div>
									<h3 class="text-xl font-semibold mb-2 terminal-text font-['Orbitron']">60%+ Function Reuse</h3>
									<p class="text-terminal-green">Multi-pass planning extracts pure functions first. Build on foundations, not from scratch.</p>
								</div>
							</div>
							<div class="flex items-start space-x-4">
								<div class="flex-shrink-0 w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center">
									<span class="text-2xl">üöÄ</span>
								</div>
								<div>
									<h3 class="text-xl font-semibold mb-2 terminal-text font-['Orbitron']">True Parallel Execution</h3>
									<p class="text-terminal-green">Sandboxed teams eliminate conflicts. No coordination overhead. Just pure productivity.</p>
								</div>
							</div>
							<div class="flex items-start space-x-4">
								<div class="flex-shrink-0 w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center">
									<span class="text-2xl">üì¶</span>
								</div>
								<div>
									<h3 class="text-xl font-semibold mb-2 terminal-text font-['Orbitron']">Complete Features, Not Fragments</h3>
									<p class="text-terminal-green">Every epoch delivers production code, tests, docs, and marketing. Ship with confidence.</p>
								</div>
							</div>
						</div>
					</div>
					<div class="relative">
						<div class="aspect-square terminal-window flex items-center justify-center">
							<div class="text-center">
								<div class="text-6xl font-bold mb-4 glitch-text" data-text="10x">
									<span class="text-gradient-cyber">10x</span>
								</div>
								<p class="text-lg font-semibold terminal-text">
									Faster Through Parallel Execution
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Latest Blog Posts -->
		<section class="py-20 terminal-bg">
			<div class="container mx-auto px-4 max-w-6xl">
				<div class="text-center mb-12">
					<h2 class="text-3xl md:text-4xl font-bold mb-4 glitch-text" data-text="Field Reports from the Revolution">
						Field Reports from the Revolution
					</h2>
					<p class="text-lg terminal-text">
						<span class="cli-prompt">Dispatches from developers who've joined the agentic revolution</span>
					</p>
				</div>
				
				<div class="grid md:grid-cols-3 gap-8 mb-12">
					{blogPosts.map((post) => (
						<article class="terminal-window hover:scale-105 transition-transform duration-300">
							<div class="terminal-header">
								<div class="terminal-buttons">
									<span class="terminal-button terminal-button-red"></span>
									<span class="terminal-button terminal-button-yellow"></span>
									<span class="terminal-button terminal-button-green"></span>
								</div>
								<div class="terminal-title">{post.data.title}</div>
							</div>
							<div class="terminal-content p-6">
								<time class="text-sm text-terminal-cyan">
									{new Intl.DateTimeFormat('en-US', { dateStyle: 'long' }).format(post.data.publishDate)}
								</time>
								<h3 class="text-xl font-semibold mt-2 mb-3">
									<a href={`/blog/${post.slug}`} class="terminal-text hover:text-terminal-cyan transition-colors">
										<span class="cli-prompt">{post.data.title}</span>
									</a>
								</h3>
								<p class="text-terminal-green line-clamp-3">
									{post.data.description}
								</p>
								<Button href={`/blog/${post.slug}`} variant="ghost" size="sm" class="mt-4">
									Read more ‚Üí
								</Button>
							</div>
						</article>
					))}
				</div>
				
				<div class="text-center">
					<Button href="/blog" variant="outline">
						View All Articles
					</Button>
				</div>
			</div>
		</section>

		<!-- CTA Section -->
		<section class="py-24 relative overflow-hidden">
			<!-- Animated background graphic -->
			<div class="absolute inset-0 flex items-center justify-center opacity-20">
				<div class="relative w-full max-w-4xl h-96">
					<!-- Central command hub -->
					<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 rounded-full border-2 border-terminal-cyan animate-pulse">
						<div class="absolute inset-0 rounded-full border border-terminal-cyan/50 animate-ping"></div>
					</div>
					<!-- Orbital agents -->
					<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
						<div class="agent-orbit agent-orbit-1">
							<div class="agent-node"></div>
						</div>
						<div class="agent-orbit agent-orbit-2">
							<div class="agent-node"></div>
						</div>
						<div class="agent-orbit agent-orbit-3">
							<div class="agent-node"></div>
						</div>
					</div>
					<!-- Connection lines -->
					<svg class="absolute inset-0 w-full h-full">
						<defs>
							<linearGradient id="line-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
								<stop offset="0%" style="stop-color:var(--terminal-cyan);stop-opacity:0" />
								<stop offset="50%" style="stop-color:var(--terminal-cyan);stop-opacity:0.5" />
								<stop offset="100%" style="stop-color:var(--terminal-cyan);stop-opacity:0" />
							</linearGradient>
						</defs>
						<line x1="50%" y1="50%" x2="20%" y2="20%" stroke="url(#line-gradient)" stroke-width="1" class="connection-line" />
						<line x1="50%" y1="50%" x2="80%" y2="20%" stroke="url(#line-gradient)" stroke-width="1" class="connection-line" />
						<line x1="50%" y1="50%" x2="80%" y2="80%" stroke="url(#line-gradient)" stroke-width="1" class="connection-line" />
						<line x1="50%" y1="50%" x2="20%" y2="80%" stroke="url(#line-gradient)" stroke-width="1" class="connection-line" />
					</svg>
				</div>
			</div>
			
			<div class="container mx-auto px-4 max-w-4xl text-center relative z-10">
				<h2 class="text-4xl md:text-5xl font-bold mb-6 glitch-text font-['Orbitron'] uppercase tracking-wide" data-text="Command Your First Epoch">
					Command Your First Epoch
				</h2>
				<p class="text-xl mb-12 terminal-text">
					<span class="cli-prompt">Stop writing prompts. Start commanding epochs. Ship complete features with AI teams.</span>
				</p>
				
				<!-- Terminal command display -->
				<div class="terminal-window max-w-2xl mx-auto mb-8">
					<div class="terminal-header">
						<div class="terminal-buttons">
							<span class="terminal-button terminal-button-red"></span>
							<span class="terminal-button terminal-button-yellow"></span>
							<span class="terminal-button terminal-button-green"></span>
						</div>
						<div class="terminal-title">Get Started</div>
					</div>
					<div class="terminal-content p-6 font-mono text-left">
						<p class="text-terminal-green mb-2">
							<span class="text-terminal-cyan">$</span> cd my-project
						</p>
						<p class="text-terminal-green mb-2">
							<span class="text-terminal-cyan">$</span> npx xswarm
						</p>
						<p class="text-terminal-cyan mb-2 ml-4">
							> Starting authentication epoch...
						</p>
						<p class="text-terminal-magenta mb-2 ml-4">
							> 40 expert agents consulted ‚úì
						</p>
						<p class="text-terminal-green mb-2 ml-4">
							> Multi-pass planning complete ‚úì
						</p>
						<p class="text-terminal-cyan mb-2 ml-4">
							> Launching parallel execution...
							<span class="cli-cursor"></span>
						</p>
					</div>
				</div>
				
				<div class="flex flex-col sm:flex-row gap-4 justify-center">
					<Button href="/docs/getting-started" size="lg">
						<span class="terminal-text">Read Documentation</span>
					</Button>
					<Button href="https://github.com/chadmichel/xswarm" variant="secondary" size="lg">
						<span class="terminal-text">View on GitHub</span>
					</Button>
				</div>
			</div>
		</section>
	</main>
	
	<Footer />
</Layout>

<style>
	/* Import terminal colors */
	.terminal-bg {
		background: var(--terminal-bg);
	}
	
	.text-terminal-green {
		color: var(--terminal-green);
	}
	
	.text-terminal-cyan {
		color: var(--terminal-cyan);
	}
	
	.text-terminal-magenta {
		color: var(--terminal-magenta);
	}
	
	/* Subtle hover scale */
	.hover\:scale-102:hover {
		transform: scale(1.02);
	}
	
	/* Agent card fixed width */
	.agent-card {
		width: 100%;
		max-width: 280px;
	}
	
	/* Scan animation */
	@keyframes scan {
		0% {
			transform: translateY(-100%);
		}
		100% {
			transform: translateY(100%);
		}
	}
	
	.animate-scan {
		animation: scan 8s linear infinite;
	}
	
	.text-gradient-cyber {
		background-image: linear-gradient(45deg, var(--terminal-cyan), var(--terminal-magenta));
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
		text-shadow: 0 0 40px var(--terminal-cyan);
	}
	
	/* Agent orbit animation */
	.agent-orbit {
		position: absolute;
		border-radius: 50%;
		border: 1px dashed rgba(0, 255, 255, 0.3);
		animation: rotate 20s linear infinite;
	}
	
	.agent-orbit-1 {
		width: 200px;
		height: 200px;
		top: -100px;
		left: -100px;
	}
	
	.agent-orbit-2 {
		width: 300px;
		height: 300px;
		top: -150px;
		left: -150px;
		animation-duration: 30s;
		animation-direction: reverse;
	}
	
	.agent-orbit-3 {
		width: 400px;
		height: 400px;
		top: -200px;
		left: -200px;
		animation-duration: 40s;
	}
	
	.agent-node {
		position: absolute;
		width: 20px;
		height: 20px;
		background: var(--terminal-cyan);
		border: 2px solid var(--terminal-bg);
		border-radius: 50%;
		top: -10px;
		left: 50%;
		transform: translateX(-50%);
		box-shadow: 0 0 20px var(--terminal-cyan);
	}
	
	@keyframes rotate {
		from {
			transform: rotate(0deg);
		}
		to {
			transform: rotate(360deg);
		}
	}
	
	.connection-line {
		opacity: 0.5;
		animation: pulse-line 3s ease-in-out infinite;
	}
	
	@keyframes pulse-line {
		0%, 100% {
			opacity: 0.2;
		}
		50% {
			opacity: 0.6;
		}
	}
	
	.line-clamp-3 {
		display: -webkit-box;
		-webkit-line-clamp: 3;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}
	
	@keyframes float {
		0%, 100% {
			transform: translateY(0px);
		}
		50% {
			transform: translateY(-20px);
		}
	}
	
	.animate-float {
		animation: float 6s ease-in-out infinite;
	}
	
	.delay-1000 {
		animation-delay: 1s;
	}
</style>