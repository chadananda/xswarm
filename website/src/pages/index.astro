---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Button from '../components/Button.astro';
import Agent from '../components/Agent.astro';
import Card from '../components/Card.astro';
import { getCollection } from 'astro:content';

// Get agent categories
const agentCategories = await getCollection('agents');
const sortedCategories = agentCategories.sort((a, b) => a.data.order - b.data.order);

// Get latest blog posts
const blogPosts = (await getCollection('blog'))
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 3);
---

<Layout title="XSwarm - Transform Every Developer into an AI Team Leader">
	<Navbar />
	
	<main>
		<!-- Hero Section -->
		<section class="hero relative overflow-hidden terminal-window">
			<!-- Wide Hero Image Background -->
			<div class="absolute inset-0 z-0">
				<img src="/teamofone.png" alt="Cyberpunk developer controlling AI swarm" class="w-full h-full object-cover opacity-30" />
				<div class="absolute inset-0 bg-gradient-to-t from-terminal-bg via-terminal-bg/50 to-transparent"></div>
			</div>
			
			<!-- Terminal Window Effect -->
			<div class="terminal-header">
				<div class="terminal-buttons">
					<span class="terminal-button terminal-button-red"></span>
					<span class="terminal-button terminal-button-yellow"></span>
					<span class="terminal-button terminal-button-green"></span>
				</div>
				<div class="terminal-title">xswarm.ai</div>
			</div>
			
			<div class="container mx-auto px-4 py-24 md:py-32 relative z-10">
				<div class="text-center max-w-4xl mx-auto">
					<h1 class="text-5xl md:text-7xl font-bold mb-6 glitch-text" data-text="Become the Team You Wish to Lead">
						Become the Team You Wish to <span class="text-gradient-cyber">Lead</span>
					</h1>
					<p class="text-xl md:text-2xl mb-8 leading-relaxed terminal-text">
						<span class="cli-prompt">AI agent swarms operating in massively parallel harmony to amplify your development vision.</span>
						<span class="cli-cursor"></span>
					</p>
					<div class="flex flex-col sm:flex-row gap-4 justify-center">
						<Button href="/blog/getting-started-guide" size="lg">
							<span class="terminal-text">npx xswarm</span>
						</Button>
						<Button href="https://github.com/chadananda/xswarm" variant="secondary" size="lg">
							<span class="terminal-text">npm i -g xswarm</span>
						</Button>
					</div>
				</div>
			</div>
			
			<!-- Matrix Rain Effect -->
			<div class="matrix-rain"></div>
		</section>

		<!-- Agent Workforce Section -->
		<section id="features" class="py-20 terminal-bg">
			<div class="container mx-auto px-4 max-w-7xl">
				<div class="text-center mb-16">
					<h2 class="text-3xl md:text-4xl font-bold mb-4 glitch-text" data-text="Command Your Agent Workforce">
						Command Your Agent Workforce
					</h2>
					<p class="text-lg max-w-3xl mx-auto terminal-text">
						<span class="cli-prompt">Each specialized agent awaits your command. Together, they form an unstoppable development force.</span>
					</p>
				</div>
				
				{sortedCategories.map((category, index) => {
					const colorClass = index < 2 ? 'cyan' : index < 4 ? 'green' : 'magenta';
					return (
						<>
							<h3 class="text-2xl font-bold mb-6 terminal-text text-center">
								<span class={`text-terminal-${colorClass}`}>
									// {category.data.title} - {category.data.subtitle}
								</span>
							</h3>
							<div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-12 justify-items-center max-w-6xl mx-auto">
								{category.data.agents.map((agent) => (
									<Agent 
										icon={agent.icon}
										title={agent.title}
										role={agent.role}
										description={agent.description}
									/>
								))}
							</div>
						</>
					);
				})}
			</div>
		</section>

		<!-- Interactive Command & Control Section -->
		<section class="py-20 terminal-window">
			<div class="container mx-auto px-4 max-w-6xl">
				<div class="text-center mb-16">
					<h2 class="text-3xl md:text-4xl font-bold mb-4 glitch-text" data-text="You Lead. They Execute. Your Vision Realized.">
						You Lead. They Execute. Your Vision Realized.
					</h2>
					<p class="text-lg max-w-3xl mx-auto terminal-text">
						<span class="cli-prompt">Stay in control through interactive collaboration. No AI hallucinationsâ€”just YOUR project, amplified.</span>
					</p>
				</div>
				
				<div class="grid md:grid-cols-2 gap-12 items-center">
					<div class="space-y-8">
						<div class="terminal-window">
							<div class="terminal-header">
								<div class="terminal-buttons">
									<span class="terminal-button terminal-button-red"></span>
									<span class="terminal-button terminal-button-yellow"></span>
									<span class="terminal-button terminal-button-green"></span>
								</div>
								<div class="terminal-title">BA Agent Interview</div>
							</div>
							<div class="terminal-content p-6">
								<p class="terminal-text mb-2">
									<span class="text-terminal-cyan">BA Agent:</span> Alright, what are we building today?
								</p>
								<p class="terminal-text mb-2">
									<span class="text-terminal-green">You:</span> I want users to collaborate in real-time
								</p>
								<p class="terminal-text mb-2">
									<span class="text-terminal-cyan">BA Agent:</span> Cool. How many people at once? Like Google Docs or more like Slack?
								</p>
								<p class="terminal-text">
									<span class="cli-cursor"></span>
								</p>
							</div>
						</div>
						
						<div class="terminal-window">
							<div class="terminal-header">
								<div class="terminal-buttons">
									<span class="terminal-button terminal-button-red"></span>
									<span class="terminal-button terminal-button-yellow"></span>
									<span class="terminal-button terminal-button-green"></span>
								</div>
								<div class="terminal-title">UX Agent Options</div>
							</div>
							<div class="terminal-content p-6">
								<p class="terminal-text mb-4">
									<span class="text-terminal-magenta">UX Agent:</span> Got three designs for you. Which vibe?
								</p>
								<div class="grid grid-cols-3 gap-2 text-sm">
									<div class="border border-terminal-green p-2 text-terminal-green">A: Sidebar chat</div>
									<div class="border border-terminal-cyan p-2 text-terminal-cyan">B: Floating bubbles</div>
									<div class="border border-terminal-magenta p-2 text-terminal-magenta">C: Inline comments</div>
								</div>
							</div>
						</div>
					</div>
					
					<div class="space-y-6">
						<h3 class="text-2xl font-bold terminal-text">
							<span class="text-terminal-cyan">Interactive Control Points</span>
						</h3>
						<ul class="space-y-4">
							<li class="flex items-start space-x-3">
								<span class="text-terminal-green text-2xl">â€º</span>
								<div>
									<h4 class="font-semibold terminal-text mb-1">Requirements Extraction</h4>
									<p class="text-terminal-green text-sm">Your BA agent interviews you to understand YOUR specific needsâ€”not generic assumptions</p>
								</div>
							</li>
							<li class="flex items-start space-x-3">
								<span class="text-terminal-cyan text-2xl">â€º</span>
								<div>
									<h4 class="font-semibold terminal-text mb-1">Design Selection</h4>
									<p class="text-terminal-green text-sm">UX agent builds real interactive prototypes. Try them, iterate until perfect.</p>
								</div>
							</li>
							<li class="flex items-start space-x-3">
								<span class="text-terminal-magenta text-2xl">â€º</span>
								<div>
									<h4 class="font-semibold terminal-text mb-1">Architecture Approval</h4>
									<p class="text-terminal-green text-sm">Review and approve system designs before any code is written</p>
								</div>
							</li>
							<li class="flex items-start space-x-3">
								<span class="text-terminal-yellow text-2xl">â€º</span>
								<div>
									<h4 class="font-semibold terminal-text mb-1">Iterative Refinement</h4>
									<p class="text-terminal-green text-sm">Agents adapt to your feedback, ensuring the final product matches your vision</p>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</section>

		<!-- Benefits Section -->
		<section class="py-20 terminal-bg">
			<div class="container mx-auto px-4 max-w-6xl">
				<div class="grid md:grid-cols-2 gap-16 items-center">
					<div>
						<h2 class="text-3xl md:text-4xl font-bold mb-6 glitch-text" data-text="Multiply Your Force">
							Multiply Your Force
						</h2>
						<div class="space-y-6">
							<div class="flex items-start space-x-4">
								<div class="flex-shrink-0 w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center">
									<span class="text-2xl">âš¡</span>
								</div>
								<div>
									<h3 class="text-xl font-semibold mb-2 terminal-text">Break the Solo Bottleneck</h3>
									<p class="text-terminal-green">Deploy multiple agents in parallel. Watch days of work complete in minutes.</p>
								</div>
							</div>
							<div class="flex items-start space-x-4">
								<div class="flex-shrink-0 w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center">
									<span class="text-2xl">ðŸŽ¯</span>
								</div>
								<div>
									<h3 class="text-xl font-semibold mb-2 terminal-text">Never Compromise Vision</h3>
									<p class="text-terminal-green">Your standards enforced by tireless agents. Quality without the grind.</p>
								</div>
							</div>
							<div class="flex items-start space-x-4">
								<div class="flex-shrink-0 w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center">
									<span class="text-2xl">ðŸ”„</span>
								</div>
								<div>
									<h3 class="text-xl font-semibold mb-2 terminal-text">Command Line to Command Center</h3>
									<p class="text-terminal-green">Transform your terminal into a strategic command center. Lead, don't labor.</p>
								</div>
							</div>
						</div>
					</div>
					<div class="relative">
						<div class="aspect-square terminal-window flex items-center justify-center">
							<div class="text-center">
								<div class="text-6xl font-bold mb-4 glitch-text" data-text="75%">
									<span class="text-gradient-cyber">75%</span>
								</div>
								<p class="text-lg font-semibold terminal-text">
									More Time for What Matters
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Latest Blog Posts -->
		<section class="py-20 terminal-bg">
			<div class="container mx-auto px-4 max-w-6xl">
				<div class="text-center mb-12">
					<h2 class="text-3xl md:text-4xl font-bold mb-4 glitch-text" data-text="Field Reports from the Revolution">
						Field Reports from the Revolution
					</h2>
					<p class="text-lg terminal-text">
						<span class="cli-prompt">Dispatches from developers who've joined the agentic revolution</span>
					</p>
				</div>
				
				<div class="grid md:grid-cols-3 gap-8 mb-12">
					{blogPosts.map((post) => (
						<article class="terminal-window hover:scale-105 transition-transform duration-300">
							<div class="terminal-header">
								<div class="terminal-buttons">
									<span class="terminal-button terminal-button-red"></span>
									<span class="terminal-button terminal-button-yellow"></span>
									<span class="terminal-button terminal-button-green"></span>
								</div>
								<div class="terminal-title">{post.data.title}</div>
							</div>
							<div class="terminal-content p-6">
								<time class="text-sm text-terminal-cyan">
									{new Intl.DateTimeFormat('en-US', { dateStyle: 'long' }).format(post.data.publishDate)}
								</time>
								<h3 class="text-xl font-semibold mt-2 mb-3">
									<a href={`/blog/${post.slug}`} class="terminal-text hover:text-terminal-cyan transition-colors">
										<span class="cli-prompt">{post.data.title}</span>
									</a>
								</h3>
								<p class="text-terminal-green line-clamp-3">
									{post.data.description}
								</p>
								<Button href={`/blog/${post.slug}`} variant="ghost" size="sm" class="mt-4">
									Read more â†’
								</Button>
							</div>
						</article>
					))}
				</div>
				
				<div class="text-center">
					<Button href="/blog" variant="outline">
						View All Articles
					</Button>
				</div>
			</div>
		</section>

		<!-- CTA Section -->
		<section class="py-20 terminal-window">
			<div class="container mx-auto px-4 max-w-4xl text-center">
				<h2 class="text-3xl md:text-4xl font-bold mb-6 glitch-text" data-text="Join the Agentic Revolution">
					Join the Agentic Revolution
				</h2>
				<p class="text-xl mb-8 terminal-text">
					<span class="cli-prompt">Break free from solo coding. Command your agent workforce.</span>
				</p>
				<div class="flex flex-col sm:flex-row gap-4 justify-center">
					<Button href="https://www.npmjs.com/package/xswarm" size="lg">
						<span class="terminal-text">npm install -g xswarm</span>
					</Button>
					<Button href="/blog/getting-started-guide" variant="secondary" size="lg">
						<span class="terminal-text">./read-guide.sh</span>
					</Button>
				</div>
			</div>
		</section>
	</main>
	
	<Footer />
</Layout>

<style>
	/* Import terminal colors */
	.terminal-bg {
		background: var(--terminal-bg);
	}
	
	.text-terminal-green {
		color: var(--terminal-green);
	}
	
	.text-terminal-cyan {
		color: var(--terminal-cyan);
	}
	
	.text-terminal-magenta {
		color: var(--terminal-magenta);
	}
	
	/* Subtle hover scale */
	.hover\:scale-102:hover {
		transform: scale(1.02);
	}
	
	/* Agent card fixed width */
	.agent-card {
		width: 100%;
		max-width: 280px;
	}
	
	/* Scan animation */
	@keyframes scan {
		0% {
			transform: translateY(-100%);
		}
		100% {
			transform: translateY(100%);
		}
	}
	
	.animate-scan {
		animation: scan 8s linear infinite;
	}
	
	.text-gradient-cyber {
		background-image: linear-gradient(45deg, var(--terminal-cyan), var(--terminal-magenta));
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
		text-shadow: 0 0 40px var(--terminal-cyan);
	}
	
	.line-clamp-3 {
		display: -webkit-box;
		-webkit-line-clamp: 3;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}
	
	@keyframes float {
		0%, 100% {
			transform: translateY(0px);
		}
		50% {
			transform: translateY(-20px);
		}
	}
	
	.animate-float {
		animation: float 6s ease-in-out infinite;
	}
	
	.delay-1000 {
		animation-delay: 1s;
	}
</style>